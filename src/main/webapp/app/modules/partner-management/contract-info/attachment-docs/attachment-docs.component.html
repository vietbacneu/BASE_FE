<div style="display: block;">
    <div class="custom-modal-large" jhiModalDrag [handle]="handle">
        <div class="modal-header" #handle>
            <h5 class="modal-title mt-0">{{'partner.contract.addDoc' | translate}}</h5>
            <button type="button" class="close" aria-label="Close" (click)="onCancel()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </div>
    <perfect-scrollbar class="ps" [style.max-height.px]="height" (window:resize)="onResize()">
        <div class="modal-body" [formGroup]="formGroup">
            <div class="form-group row">
                <label class="col-sm-3 col-form-label custom-label-left">{{ 'partner.contract.docType'| translate}}
                    <span class="text-danger">*</span></label>
                <div style="margin-bottom: 0px" class="col-sm-9 form-group dropdown form-custom-select"
                     [ngClass]="displayFieldHasError('docsType')">
                    <ng-select [items]="docsType"
                               clearAllText="{{ 'common.tooltip.action.clearNgSelect' | translate }}"
                               notFoundText="{{'common.select.notFoundText' | translate}}"
                               bindLabel="label"
                               bindValue="value"
                               searchable="false"
                               formControlName="docsType">
                    </ng-select>
                    <app-inline-message [formName]="formGroup.get('docsType')"
                                        [message]="'partner.contract.docType'"></app-inline-message>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-3 col-form-label custom-label-left">{{ 'partner.contract.docCode'| translate}}
                    <span class="text-danger">*</span></label>
                <div class="col-sm-9 form-custom-select" [ngClass]="displayFieldHasError('documentCode')">
                    <input type="text" class="form-control" formControlName="documentCode" maxlength="100">
                    <app-inline-message [formName]="formGroup.get('documentCode')"
                                        [message]="'partner.contract.docCode'"></app-inline-message>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-3 col-form-label custom-label-left">{{ 'partner.contract.docName'| translate}}</label>
                <div class="col-sm-9 form-custom-select" [ngClass]="displayFieldHasError('documentName')">
                    <input type="text" class="form-control" formControlName="documentName" maxlength="200">
                    <app-inline-message [formName]="formGroup.get('documentName')"
                                        [message]="'partner.contract.docName'"></app-inline-message>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-3 col-form-label custom-label-left">{{ 'partner.contract.dateSign'| translate}}
                    <span class="text-danger">*</span></label>
                <div class="col-sm-9 form-custom-select" [ngClass]="displayFieldHasError('signedDate')">
                    <div class="input-group">
                        <input class="form-control"
                               name="dp" ngbDatepicker
                               #dateSign="ngbDatepicker" formControlName="signedDate">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar"
                                    (click)="dateSign.toggle()"
                                    type="button"><i class="fa fa-calendar" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                    <app-inline-message [formName]="formGroup.get('signedDate')"
                                        [message]="'partner.contract.dateSign'"></app-inline-message>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-3 col-form-label custom-label-left">{{ 'partner.contract.startDate'| translate}}
                    <span class="text-danger">*</span></label>
                <div class="col-sm-9 form-custom-select" [ngClass]="displayFieldHasError('startDate')">
                    <div class="input-group">
                        <input class="form-control"
                               name="dp" ngbDatepicker
                               #startDate="ngbDatepicker" formControlName="startDate">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar"
                                    (click)="startDate.toggle()"
                                    type="button"><i class="fa fa-calendar" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                    <app-inline-message [formName]="formGroup.get('startDate')"
                                        [message]="'partner.contract.startDate'"></app-inline-message>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-3 col-form-label custom-label-left">{{ 'partner.contract.endDate'| translate}}
                    <span class="text-danger">*</span></label>
                <div class="col-sm-9 form-custom-select" [ngClass]="displayFieldHasError('endDate')">
                    <div class="input-group">
                        <input class="form-control"
                               name="dp" ngbDatepicker
                               #endDate="ngbDatepicker" formControlName="endDate">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary calendar"
                                    (click)="endDate.toggle()"
                                    type="button"><i class="fa fa-calendar" aria-hidden="true"></i>
                            </button>
                        </div>
                    </div>
                    <app-inline-message [formName]="formGroup.get('endDate')"
                                        [message]="'partner.contract.endDate'"></app-inline-message>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-3 col-form-label custom-label-left">{{ 'partner.contract.note'| translate}}</label>
                <div class="col-sm-9 form-custom-select" [ngClass]="displayFieldHasError('description')">
                    <textarea rows="5" class="form-control" formControlName="description" maxlength="1000"></textarea>
                    <app-inline-message [formName]="formGroup.get('description')"
                                        [message]="'partner.contract.note'"></app-inline-message>
                </div>
            </div>
            <div class="row form-group">
                <div class="col-md-3 custom-label-left col-form-label">
                    <label class="col-form-label l-h-0">{{'partner.contract.attachDocs' | translate}}<span
                            class="text-danger">*</span>
                    </label>
                </div>
                <div class="col-md-9">
                    <div class="form-group">
                        <jhi-upload-file [validMaxSize]="20"
                                         [multiple]="true" [fileType]="'excel'" #fileImport
                                         [suggest]="'multiple'" [strType]="'multiple'"
                                         [accept]="'.pdf,.docx,.doc,.xlsx,.xls'"
                                         (onFileChange)="onChangeFile($event)"
                                         (onError)="onError($event)" [isError]="errImport">
                        </jhi-upload-file>
                        <div class="text-danger" *ngIf="errImport">{{errMessage}}</div>
                    </div>
                </div>
            </div>
        </div>
    </perfect-scrollbar>
    <div class="modal-footer">
        <button type="submit" class="btn btn-danger" (click)="onSave()">
            <i class="fa fa-floppy-o mr-2" aria-hidden="true"></i><span
                jhiTranslate="{{'common.button.add'}}"></span>
        </button>
        <button type="button" class="btn btn-light" (click)="onCancel()">
            <i class="fa fa-times mr-2" aria-hidden="true"></i><span
                jhiTranslate="{{'common.button.confirm.close'}}"></span>
        </button>
    </div>
</div>